# Hust_Database_Lab

## 华中科技大学数据库实验——Educoder部分和机票预订管理系统

lab1——Educoder上的sql代码
flight_management.sql——数据库导出文件


运行时首先需要在本地创建一个数据库（可以使用navicat），数据库的配置文件为/flight_management/src/c3p0-config.xml，运行时需要更改数据库路径、用户名和密码为自己所设定的


如果需要在本系统的基础上添加自己设计的一些界面，需要添加/flight_management/WebRoot/WEB-INF下的web.xml文件的servlet映射


本系统基于eclipse完成，机票预订系统实现了用户订票、退票、打印取票通知单和修改个人信息的功能，管理员可录入/删除航班、删除订单和修改用户的部分信息。系统实现较为粗糙，有一些异常比如：录入航班时输出错误格式的日期信息或者填写的到达时间小于出发时间等错误不会检查和报错。

数据库的设计大体参照报告所描述的设计。事实上这个设计存在很大的冗余（因为检查时的数据太少可能不太能看出来）。最好的设计方案是：航班表只记录：唯一标识一趟航班的航班号、出发地点和到达地点。座位表和订单（机票）1：1对应，座位表中存航班的航班号和出发时间以及该航班的座位状态（可以使用一个0/1字符串标识所有的座位），每次订一张票都要修改对应航班座位信息(0->1)。实际上，可以不用设计出账单表和取票通知表，只要在订票表中设计：是否付款和是否取票两个标识位即可。订单一经付款就成为账单。
